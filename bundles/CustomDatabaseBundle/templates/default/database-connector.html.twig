{% extends '@CustomDatabase/sidebar/sidebar.html.twig' %}

{% block head_stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/customdatabase/static/database-connector/style.css') }}" crossorigin="anonymous" />
{% endblock %}

{% block headscripts %}
    {{ parent() }}
    <script>
        // Native modal functionality - works without external dependencies
        window.openModal = function(modalId) {
            const modal = document.getElementById(modalId.replace('#', ''));
            if (modal) {
                modal.style.display = 'block';
                modal.classList.add('show');
                document.body.style.overflow = 'hidden'; // Prevent background scroll

                // Add backdrop
                let backdrop = document.querySelector('.modal-backdrop');
                if (!backdrop) {
                    backdrop = document.createElement('div');
                    backdrop.className = 'modal-backdrop show';
                    document.body.appendChild(backdrop);
                }

                // Close modal when clicking backdrop
                backdrop.onclick = function() {
                    window.closeModal(modalId);
                };

                // Close modal with ESC key
                document.onkeydown = function(e) {
                    if (e.key === 'Escape') {
                        window.closeModal(modalId);
                    }
                };

                console.log('Modal opened:', modalId);
            }
        };

        window.closeModal = function(modalId) {
            const modal = document.getElementById(modalId.replace('#', ''));
            if (modal) {
                modal.style.display = 'none';
                modal.classList.remove('show');
                document.body.style.overflow = ''; // Restore scroll

                // Remove backdrop
                const backdrop = document.querySelector('.modal-backdrop');
                if (backdrop) {
                    backdrop.remove();
                }

                // Remove ESC key listener
                document.onkeydown = null;

                console.log('Modal closed:', modalId);
            }
        };

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Database Connector initialized');

            // Add close button functionality to all modals
            const closeButtons = document.querySelectorAll('.modal .btn-close, .modal .close');
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    if (modal) {
                        window.closeModal('#' + modal.id);
                    }
                });
            });
        });
    </script>
{% endblock %}

{% block content %}
<div class="main-content">
    <div class="database-connector-content">
        <div class="database-header">
            <div class="header-actions">
                <a href="{{ path('home') }}" class="btn-back">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </a>
                <button class="btn-new-connection" onclick="showNewConnectionForm()">
                    <i class="fas fa-plus"></i> New Connection
                </button>
                <button class="btn-quick-connect" onclick="showQuickConnect()">
                    <i class="fas fa-bolt"></i> Quick Connect
                </button>
                <button class="btn-bulk-test" onclick="showBulkTest()">
                    <i class="fas fa-flask"></i> Bulk Test
                </button>
            </div>
            <h1><i class="fas fa-database"></i> Database Connector</h1>
            <p>Connect to any database, test connections, and manage your database connections securely</p>
        </div>

        <!-- Connection Stats -->
        <div class="connection-stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-link"></i>
                    </div>
                    <div class="stat-info">
                        <h4>Total Connections</h4>
                        <div class="stat-value" id="total-connections">0</div>
                        <div class="stat-trend">
                            <i class="fas fa-database"></i> Active databases
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h4>Connected</h4>
                        <div class="stat-value" id="connected-count">0</div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> Healthy connections
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon warning">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-info">
                        <h4>Failed</h4>
                        <div class="stat-value" id="failed-count">0</div>
                        <div class="stat-trend negative">
                            <i class="fas fa-arrow-down"></i> Need attention
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon info">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h4>Last Test</h4>
                        <div class="stat-value" id="last-test-time">-</div>
                        <div class="stat-trend">
                            <i class="fas fa-history"></i> Connection status
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="connector-main-grid">
            <!-- Connection List -->
            <div class="connection-list-section">
                <div class="section-header">
                    <h3><i class="fas fa-list"></i> Database Connections</h3>
                    <div class="section-actions">
                        <input type="text" id="connection-search" placeholder="Search connections..." class="search-input">
                        <select id="connection-filter" class="filter-select">
                            <option value="all">All Types</option>
                            <option value="mysql">MySQL</option>
                            <option value="postgresql">PostgreSQL</option>
                            <option value="sqlserver">SQL Server</option>
                            <option value="oracle">Oracle</option>
                            <option value="sqlite">SQLite</option>
                        </select>
                    </div>
                </div>
                <div class="connection-list" id="connection-list">
                    <div class="empty-state">
                        <i class="fas fa-database"></i>
                        <h4>No connections yet</h4>
                        <p>Create your first database connection to get started</p>
                        <button class="btn-primary" onclick="showNewConnectionForm()">
                            <i class="fas fa-plus"></i> Add Connection
                        </button>
                    </div>
                </div>
            </div>

            <!-- Connection Form -->
            <div class="connection-form-section">
                <div class="form-container" id="connection-form-container">
                    <div class="form-placeholder">
                        <i class="fas fa-mouse-pointer"></i>
                        <h4>Select a connection</h4>
                        <p>Choose a database connection from the list to view details and test the connection</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Connection History -->
        <div class="connection-history-section">
            <h3><i class="fas fa-history"></i> Recent Connection Tests</h3>
            <div class="history-list" id="connection-history">
                <div class="empty-history">
                    <i class="fas fa-clock"></i>
                    <p>No connection tests yet</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- New Connection Modal -->
<div class="modal fade" id="newConnectionModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="fas fa-plus"></i> New Database Connection</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="new-connection-form">
                    <div class="form-section">
                        <h6><i class="fas fa-info-circle"></i> Basic Information</h6>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="connection-name">Connection Name *</label>
                                <input type="text" id="connection-name" required placeholder="My Database Connection">
                            </div>
                            <div class="form-group">
                                <label for="database-type">Database Type *</label>
                                <select id="database-type" required>
                                    <option value="">Select Database Type</option>
                                    <option value="mysql">MySQL</option>
                                    <option value="mariadb">MariaDB</option>
                                    <option value="postgresql">PostgreSQL</option>
                                    <option value="sqlserver">SQL Server</option>
                                    <option value="oracle">Oracle</option>
                                    <option value="sqlite">SQLite</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="connection-description">Description</label>
                                <textarea id="connection-description" rows="2" placeholder="Optional description..."></textarea>
                            </div>
                            <div class="form-group">
                                <label for="connection-tags">Tags</label>
                                <input type="text" id="connection-tags" placeholder="production, development, etc.">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h6><i class="fas fa-server"></i> Connection Details</h6>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="host">Host *</label>
                                <input type="text" id="host" required placeholder="localhost or IP address">
                            </div>
                            <div class="form-group">
                                <label for="port">Port *</label>
                                <input type="number" id="port" required placeholder="3306" min="1" max="65535">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="database-name">Database Name *</label>
                                <input type="text" id="database-name" required placeholder="my_database">
                            </div>
                            <div class="form-group">
                                <label for="charset">Charset</label>
                                <select id="charset">
                                    <option value="utf8mb4">UTF8MB4 (Recommended)</option>
                                    <option value="utf8">UTF8</option>
                                    <option value="latin1">Latin1</option>
                                    <option value="ascii">ASCII</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h6><i class="fas fa-user"></i> Authentication</h6>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="username">Username *</label>
                                <input type="text" id="username" required placeholder="database_user">
                            </div>
                            <div class="form-group">
                                <label for="password">Password *</label>
                                <input type="password" id="password" required placeholder="••••••••">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="ssl-mode">SSL Mode</label>
                                <select id="ssl-mode">
                                    <option value="prefer">Prefer (Default)</option>
                                    <option value="require">Require</option>
                                    <option value="disable">Disable</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn-test" onclick="testConnectionFromForm()">
                    <i class="fas fa-flask"></i> Test Connection
                </button>
                <button type="button" class="btn-save-connection" onclick="saveConnection()">
                    <i class="fas fa-save"></i> Save Connection
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Quick Connect Modal -->
<div class="modal fade" id="quickConnectModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="fas fa-bolt"></i> Quick Connect</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="quick-connect-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quick-db-type">Database Type</label>
                            <select id="quick-db-type">
                                <option value="mysql">MySQL</option>
                                <option value="postgresql">PostgreSQL</option>
                                <option value="sqlserver">SQL Server</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="quick-host">Host</label>
                            <input type="text" id="quick-host" value="localhost">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quick-port">Port</label>
                            <input type="number" id="quick-port" value="3306">
                        </div>
                        <div class="form-group">
                            <label for="quick-database">Database</label>
                            <input type="text" id="quick-database" placeholder="database_name">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quick-username">Username</label>
                            <input type="text" id="quick-username" placeholder="username">
                        </div>
                        <div class="form-group">
                            <label for="quick-password">Password</label>
                            <input type="password" id="quick-password" placeholder="password">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn-primary" onclick="quickConnect()">
                    <i class="fas fa-plug"></i> Connect
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Bulk Test Modal -->
<div class="modal fade" id="bulkTestModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="fas fa-flask"></i> Bulk Connection Test</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="bulk-test-options">
                    <div class="test-option">
                        <input type="radio" id="test-all" name="bulk-test-type" value="all" checked>
                        <label for="test-all">Test all connections</label>
                    </div>
                    <div class="test-option">
                        <input type="radio" id="test-selected" name="bulk-test-type" value="selected">
                        <label for="test-selected">Test selected connections</label>
                    </div>
                    <div class="test-option">
                        <input type="radio" id="test-failed" name="bulk-test-type" value="failed">
                        <label for="test-failed">Test only failed connections</label>
                    </div>
                </div>
                <div class="bulk-test-results" id="bulk-test-results" style="display: none;">
                    <h6>Test Results:</h6>
                    <div class="results-list" id="bulk-results-list"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn-primary" onclick="runBulkTest()">
                    <i class="fas fa-play"></i> Run Tests
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Connection Details Modal -->
<div class="modal fade" id="connectionDetailsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="connection-details-title">
                    <i class="fas fa-database"></i> Connection Details
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="connection-details" id="connection-details-content">
                    <!-- Connection details will be loaded here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn-warning" onclick="editConnection()">
                    <i class="fas fa-edit"></i> Edit
                </button>
                <button type="button" class="btn-danger" onclick="deleteConnection()">
                    <i class="fas fa-trash"></i> Delete
                </button>
                <button type="button" class="btn-success" onclick="testConnection()">
                    <i class="fas fa-flask"></i> Test Connection
                </button>
            </div>
        </div>
    </div>
</div>

<style>
/* Database Connector Styles */
.connection-stats-section {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 20px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.stat-card {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 12px;
    padding: 25px;
    display: flex;
    align-items: center;
    gap: 20px;
    border: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-3px);
}

.stat-icon {
    font-size: 36px;
    color: var(--primary-color);
    min-width: 60px;
}

.stat-icon.success {
    color: #27ae60;
}

.stat-icon.warning {
    color: #f39c12;
}

.stat-icon.info {
    color: #3498db;
}

.stat-info h4 {
    margin: 0 0 5px 0;
    font-size: 18px;
    font-weight: 600;
    color: var(--dark-color);
}

.stat-value {
    font-size: 28px;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0;
}

.stat-trend {
    font-size: 12px;
    margin-top: 5px;
}

.stat-trend.positive {
    color: #27ae60;
}

.stat-trend.negative {
    color: #e74c3c;
}

.connector-main-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}

.connection-list-section,
.connection-form-section {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    overflow: hidden;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-bottom: 1px solid #e2e8f0;
}

.section-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: var(--dark-color);
}

.section-actions {
    display: flex;
    gap: 10px;
    align-items: center;
}

.search-input {
    padding: 8px 12px;
    border: 2px solid #e2e8f0;
    border-radius: 6px;
    font-size: 14px;
    width: 200px;
}

.filter-select {
    padding: 8px 12px;
    border: 2px solid #e2e8f0;
    border-radius: 6px;
    font-size: 14px;
}

.connection-list {
    max-height: 600px;
    overflow-y: auto;
}

.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #666;
}

.empty-state i {
    font-size: 48px;
    color: var(--primary-color);
    margin-bottom: 20px;
}

.empty-state h4 {
    margin: 0 0 10px 0;
    color: var(--dark-color);
}

.form-container {
    padding: 20px;
    min-height: 600px;
}

.form-placeholder {
    text-align: center;
    padding: 60px 20px;
    color: #666;
}

.form-placeholder i {
    font-size: 48px;
    color: var(--primary-color);
    margin-bottom: 20px;
}

.connection-history-section {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 20px;
}

.connection-history-section h3 {
    margin: 0 0 20px 0;
    font-size: 18px;
    font-weight: 600;
    color: var(--dark-color);
}

.history-list {
    max-height: 300px;
    overflow-y: auto;
}

.empty-history {
    text-align: center;
    padding: 40px 20px;
    color: #666;
}

.empty-history i {
    font-size: 32px;
    color: var(--primary-color);
    margin-bottom: 10px;
}

/* Modal Styles */
.modal-content {
    border-radius: 12px;
    border: none;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
}

.modal-header {
    background: var(--primary-gradient);
    color: white;
    border-radius: 12px 12px 0 0;
    border-bottom: none;
    padding: 20px 25px;
}

.modal-body {
    padding: 25px;
}

.form-section {
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid #e2e8f0;
}

.form-section:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.form-section h6 {
    margin: 0 0 15px 0;
    color: var(--dark-color);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 15px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.form-group label {
    font-weight: 600;
    color: var(--dark-color);
    font-size: 14px;
}

.form-group input,
.form-group select,
.form-group textarea {
    padding: 10px 15px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 14px;
    background: white;
    transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: var(--primary-color);
    outline: none;
}

.form-group textarea {
    resize: vertical;
    min-height: 60px;
}

.modal-footer {
    padding: 20px 25px;
    border-top: 1px solid #e2e8f0;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.btn-secondary {
    background: #6c757d;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.btn-primary {
    background: var(--primary-gradient);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.btn-test {
    background: linear-gradient(135deg, #f39c12, #e67e22);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.btn-warning {
    background: linear-gradient(135deg, #f39c12, #e67e22);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.btn-danger {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.btn-success {
    background: linear-gradient(135deg, #27ae60, #229954);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

/* Bulk Test Styles */
.bulk-test-options {
    margin-bottom: 20px;
}

.test-option {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.test-option input[type="radio"] {
    margin: 0;
}

.bulk-test-results {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #e2e8f0;
}

.results-list {
    max-height: 200px;
    overflow-y: auto;
}

/* Responsive Design */
@media (max-width: 1200px) {
    .connector-main-grid {
        grid-template-columns: 1fr;
    }

    .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
}

@media (max-width: 768px) {
    .connection-stats-section,
    .connection-list-section,
    .connection-form-section,
    .connection-history-section {
        padding: 20px;
    }

    .stats-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .section-header {
        flex-direction: column;
        gap: 15px;
        align-items: stretch;
    }

    .section-actions {
        justify-content: center;
    }

    .search-input {
        width: 100%;
    }

    .form-row {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .modal-body {
        padding: 20px;
    }

    .modal-footer {
        flex-direction: column;
        gap: 10px;
    }

    .btn-secondary,
    .btn-primary,
    .btn-test,
    .btn-warning,
    .btn-danger,
    .btn-success {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .connection-stats-section,
    .connection-list-section,
    .connection-form-section,
    .connection-history-section {
        padding: 15px;
        border-radius: 10px;
    }

    .stat-card {
        padding: 20px;
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }

    .modal-dialog {
        margin: 10px;
    }
}

/* Animation Styles */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.stat-card, .connection-list-section, .connection-form-section {
    animation: fadeIn 0.5s ease;
}

/* Notification Styles */
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    border-radius: 8px;
    padding: 15px 20px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    border-left: 4px solid #2ecc71;
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 10000;
    min-width: 300px;
    animation: slideIn 0.3s ease;
}

.notification.success {
    border-left-color: #2ecc71;
}

.notification.error {
    border-left-color: #e74c3c;
}

.notification.warning {
    border-left-color: #f39c12;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--pimcore-dark-blue);
}

/* Native Modal Styles */
.modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1040;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.modal-backdrop.show {
    opacity: 1;
}

.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1050;
    display: none;
    outline: 0;
    overflow: hidden;
    overflow-y: auto;
}

.modal.show {
    display: block;
}

.modal-dialog {
    position: relative;
    width: auto;
    margin: 1.75rem auto;
    max-width: 500px;
    pointer-events: none;
}

.modal-content {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    pointer-events: auto;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 0.3rem;
    outline: 0;
}

.modal-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    padding: 1rem;
    border-bottom: 1px solid #dee2e6;
    border-top-left-radius: calc(0.3rem - 1px);
    border-top-right-radius: calc(0.3rem - 1px);
}

.modal-body {
    position: relative;
    flex: 1 1 auto;
    padding: 1rem;
}

.modal-footer {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-end;
    padding: 0.75rem;
    border-top: 1px solid #dee2e6;
    border-bottom-right-radius: calc(0.3rem - 1px);
    border-bottom-left-radius: calc(0.3rem - 1px);
}

.btn-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    line-height: 1;
    color: #000;
    opacity: 0.5;
    cursor: pointer;
    padding: 0;
}

.btn-close:hover {
    opacity: 0.75;
}
</style>

{% block footscripts %}
<script src="{{ asset('bundles/customdatabase/static/database-connector/script.js') }}"></script>
{% endblock %}

{% endblock %}