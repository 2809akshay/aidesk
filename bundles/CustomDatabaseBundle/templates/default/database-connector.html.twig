{% extends '@CustomDatabase/sidebar/sidebar.html.twig' %}   

{% block content %}
<div class="main-content">
    <div class="database-connector-content">
    <div class="database-header">
        <div class="header-actions">
            <a href="{{ path('home') }}" class="btn-back">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
        </div>
        <h1><i class="fas fa-database"></i> Advanced Database Connection Manager</h1>
        <p>Connect to various database systems with advanced features, security options, and real-time monitoring</p>
    </div>

    {# <div class="container-fluid"> #}
        <!-- Top Section: Import/Export Options -->
        <div class="top-section">
            <div class="import-export-section">
                <h2><i class="fas fa-exchange-alt"></i> Data Import & Export</h2>
                <div class="import-export-grid">
                    <div class="import-section">
                        <h3><i class="fas fa-file-import"></i> Quick Import</h3>
                        <div class="import-source-grid">
                            <button class="import-source-btn" onclick="showImportWizard('csv')">
                                <i class="fas fa-file-csv"></i>
                                <span>CSV Files</span>
                            </button>
                            <button class="import-source-btn" onclick="showImportWizard('excel')">
                                <i class="fas fa-file-excel"></i>
                                <span>Excel Files</span>
                            </button>
                            <button class="import-source-btn" onclick="showImportWizard('json')">
                                <i class="fas fa-file-code"></i>
                                <span>JSON Files</span>
                            </button>
                            <button class="import-source-btn" onclick="showImportWizard('api')">
                                <i class="fas fa-plug"></i>
                                <span>API Import</span>
                            </button>
                        </div>
                    </div>

                    <div class="export-section">
                        <h3><i class="fas fa-file-export"></i> Quick Export</h3>
                        <div class="export-format-grid">
                            <button class="export-format-btn" onclick="showExportWizard('csv')">
                                <i class="fas fa-file-csv"></i>
                                <span>CSV</span>
                            </button>
                            <button class="export-format-btn" onclick="showExportWizard('excel')">
                                <i class="fas fa-file-excel"></i>
                                <span>Excel</span>
                            </button>
                            <button class="export-format-btn" onclick="showExportWizard('json')">
                                <i class="fas fa-file-code"></i>
                                <span>JSON</span>
                            </button>
                            <button class="export-format-btn" onclick="showExportWizard('sql')">
                                <i class="fas fa-database"></i>
                                <span>SQL</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="advanced-tools">
                    <button class="advanced-tool-btn" onclick="showMigrationWizard()">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Database Migration</span>
                    </button>
                    <button class="advanced-tool-btn" onclick="showQueryBuilder()">
                        <i class="fas fa-code"></i>
                        <span>Query Builder</span>
                    </button>
                    <button class="advanced-tool-btn" onclick="showSchemaManager()">
                        <i class="fas fa-sitemap"></i>
                        <span>Schema Manager</span>
                    </button>
                    <button class="advanced-tool-btn" onclick="showBackupManager()">
                        <i class="fas fa-shield-alt"></i>
                        <span>Backup & Restore</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Middle Section: Database Type Selection -->
        <div class="middle-section">
            <div class="database-selection-section">
                <h2><i class="fas fa-database"></i> Choose Database Type</h2>
                <div class="database-types-grid">
            <!-- Relational Databases -->
            <div class="db-type-card active" data-db="mysql">
                <div class="db-icon">
                    <i class="fas fa-database"></i>
                </div>
                <h4>MySQL</h4>
                <p>Popular open-source relational database</p>
                <div class="db-features">
                    <span class="feature-tag">ACID</span>
                    <span class="feature-tag">InnoDB</span>
                    <span class="feature-tag">Replication</span>
                </div>
            </div>

            <div class="db-type-card" data-db="postgresql">
                <div class="db-icon">
                    <i class="fas fa-server"></i>
                </div>
                <h4>PostgreSQL</h4>
                <p>Advanced open-source object-relational database</p>
                <div class="db-features">
                    <span class="feature-tag">JSON</span>
                    <span class="feature-tag">Advanced</span>
                    <span class="feature-tag">Extensible</span>
                </div>
            </div>

            <div class="db-type-card" data-db="oracle">
                <div class="db-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <h4>Oracle</h4>
                <p>Enterprise-grade relational database</p>
                <div class="db-features">
                    <span class="feature-tag">Enterprise</span>
                    <span class="feature-tag">RAC</span>
                    <span class="feature-tag">PL/SQL</span>
                </div>
            </div>

            <div class="db-type-card" data-db="mssql">
                <div class="db-icon">
                    <i class="fas fa-windows"></i>
                </div>
                <h4>SQL Server</h4>
                <p>Microsoft's enterprise database platform</p>
                <div class="db-features">
                    <span class="feature-tag">T-SQL</span>
                    <span class="feature-tag">SSIS</span>
                    <span class="feature-tag">AlwaysOn</span>
                </div>
            </div>

            <div class="db-type-card" data-db="mariadb">
                <div class="db-icon">
                    <i class="fas fa-star"></i>
                </div>
                <h4>MariaDB</h4>
                <p>MySQL-compatible open-source database</p>
                <div class="db-features">
                    <span class="feature-tag">MySQL</span>
                    <span class="feature-tag">Compatible</span>
                    <span class="feature-tag">Fast</span>
                </div>
            </div>

            <div class="db-type-card" data-db="sqlite">
                <div class="db-icon">
                    <i class="fas fa-file-code"></i>
                </div>
                <h4>SQLite</h4>
                <p>Lightweight embedded database</p>
                <div class="db-features">
                    <span class="feature-tag">Embedded</span>
                    <span class="feature-tag">Lightweight</span>
                    <span class="feature-tag">File-based</span>
                </div>
            </div>

            <!-- NoSQL Databases -->
            <div class="db-type-card" data-db="mongodb">
                <div class="db-icon">
                    <i class="fas fa-leaf"></i>
                </div>
                <h4>MongoDB</h4>
                <p>Document-oriented NoSQL database</p>
                <div class="db-features">
                    <span class="feature-tag">NoSQL</span>
                    <span class="feature-tag">JSON</span>
                    <span class="feature-tag">Scalable</span>
                </div>
            </div>

            <div class="db-type-card" data-db="cassandra">
                <div class="db-icon">
                    <i class="fas fa-network-wired"></i>
                </div>
                <h4>Cassandra</h4>
                <p>Wide-column NoSQL database</p>
                <div class="db-features">
                    <span class="feature-tag">Wide-Column</span>
                    <span class="feature-tag">Distributed</span>
                    <span class="feature-tag">High-Availability</span>
                </div>
            </div>

            <div class="db-type-card" data-db="couchdb">
                <div class="db-icon">
                    <i class="fas fa-couch"></i>
                </div>
                <h4>CouchDB</h4>
                <p>Document database with RESTful API</p>
                <div class="db-features">
                    <span class="feature-tag">RESTful</span>
                    <span class="feature-tag">JSON</span>
                    <span class="feature-tag">Replication</span>
                </div>
            </div>

            <!-- In-Memory & Cache Databases -->
            <div class="db-type-card" data-db="redis">
                <div class="db-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <h4>Redis</h4>
                <p>In-memory data structure store</p>
                <div class="db-features">
                    <span class="feature-tag">Cache</span>
                    <span class="feature-tag">Fast</span>
                    <span class="feature-tag">Key-Value</span>
                </div>
            </div>

            <div class="db-type-card" data-db="memcached">
                <div class="db-icon">
                    <i class="fas fa-memory"></i>
                </div>
                <h4>Memcached</h4>
                <p>High-performance memory object caching</p>
                <div class="db-features">
                    <span class="feature-tag">Cache</span>
                    <span class="feature-tag">Memory</span>
                    <span class="feature-tag">Distributed</span>
                </div>
            </div>

            <!-- Time Series & Analytics -->
            <div class="db-type-card" data-db="influxdb">
                <div class="db-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h4>InfluxDB</h4>
                <p>Time series database for metrics</p>
                <div class="db-features">
                    <span class="feature-tag">Time-Series</span>
                    <span class="feature-tag">Metrics</span>
                    <span class="feature-tag">Analytics</span>
                </div>
            </div>

            <div class="db-type-card" data-db="clickhouse">
                <div class="db-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h4>ClickHouse</h4>
                <p>Column-oriented analytical database</p>
                <div class="db-features">
                    <span class="feature-tag">Analytical</span>
                    <span class="feature-tag">Fast</span>
                    <span class="feature-tag">OLAP</span>
                </div>
            </div>

            <!-- Graph Databases -->
            <div class="db-type-card" data-db="neo4j">
                <div class="db-icon">
                    <i class="fas fa-project-diagram"></i>
                </div>
                <h4>Neo4j</h4>
                <p>Graph database for connected data</p>
                <div class="db-features">
                    <span class="feature-tag">Graph</span>
                    <span class="feature-tag">Cypher</span>
                    <span class="feature-tag">Relationships</span>
                </div>
            </div>

            <!-- Cloud Databases -->
            <div class="db-type-card" data-db="dynamodb">
                <div class="db-icon">
                    <i class="fab fa-aws"></i>
                </div>
                <h4>DynamoDB</h4>
                <p>AWS managed NoSQL database</p>
                <div class="db-features">
                    <span class="feature-tag">AWS</span>
                    <span class="feature-tag">Managed</span>
                    <span class="feature-tag">Scalable</span>
                </div>
            </div>

            <div class="db-type-card" data-db="firestore">
                <div class="db-icon">
                    <i class="fab fa-google"></i>
                </div>
                <h4>Firestore</h4>
                <p>Google Cloud NoSQL database</p>
                <div class="db-features">
                    <span class="feature-tag">Google</span>
                    <span class="feature-tag">Real-time</span>
                    <span class="feature-tag">Cloud</span>
                </div>
            </div>

            <!-- Search Engines -->
            <div class="db-type-card" data-db="elasticsearch">
                <div class="db-icon">
                    <i class="fas fa-search"></i>
                </div>
                <h4>Elasticsearch</h4>
                <p>Distributed search and analytics engine</p>
                <div class="db-features">
                    <span class="feature-tag">Search</span>
                    <span class="feature-tag">Analytics</span>
                    <span class="feature-tag">Distributed</span>
                </div>
            </div>
                </div>
            </div>
        </div>

        <!-- Bottom Section: Connection Form -->
        <div class="bottom-section">
            <div class="connection-form-section">
                <h2><i class="fas fa-link"></i> Database Connection</h2>
                <div class="connection-panel">
            <div class="panel-tabs">
                <button class="tab-btn active" data-tab="basic">Basic Connection</button>
                <button class="tab-btn" data-tab="advanced">Advanced Options</button>
                <button class="tab-btn" data-tab="security">Security & SSL</button>
                <button class="tab-btn" data-tab="performance">Performance</button>
                <button class="tab-btn" data-tab="monitoring">Monitoring</button>
                <button class="tab-btn" data-tab="import">Import/Export</button>
                <button class="tab-btn" data-tab="migration">Migration</button>
                <button class="tab-btn" data-tab="api">API Integration</button>
            </div>

            <div class="tab-content">
                <!-- Basic Connection Tab -->
                <div id="basic-tab" class="tab-pane active" style="display: block;">
                    <div class="connection-form-grid">
                        <div class="form-section">
                            <h3><i class="fas fa-server"></i> Server Configuration</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="db-host">Host Address</label>
                                    <input type="text" id="db-host" placeholder="localhost or IP address" value="127.0.0.1">
                                </div>
                                <div class="form-group">
                                    <label for="db-port">Port</label>
                                    <input type="number" id="db-port" value="3306">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="db-connection-name">Connection Name</label>
                                    <input type="text" id="db-connection-name" placeholder="My Database Connection">
                                </div>
                                <div class="form-group">
                                    <label for="db-connection-type">Connection Type</label>
                                    <select id="db-connection-type">
                                        <option value="direct">Direct Connection</option>
                                        <option value="ssh">SSH Tunnel</option>
                                        <option value="ssl">SSL Tunnel</option>
                                        <option value="proxy">Proxy Connection</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3><i class="fas fa-database"></i> Database Details</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="db-name">Database Name</label>
                                    <input type="text" id="db-name" placeholder="database name" value="pimcore">
                                </div>
                                <div class="form-group">
                                    <label for="db-schema">Schema (optional)</label>
                                    <input type="text" id="db-schema" placeholder="default schema">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="db-charset">Character Set</label>
                                    <select id="db-charset">
                                        <option value="utf8mb4">UTF-8 MB4</option>
                                        <option value="utf8">UTF-8</option>
                                        <option value="latin1">Latin1</option>
                                        <option value="ascii">ASCII</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="db-collation">Collation</label>
                                    <select id="db-collation">
                                        <option value="utf8mb4_unicode_ci">UTF-8 Unicode CI</option>
                                        <option value="utf8mb4_general_ci">UTF-8 General CI</option>
                                        <option value="latin1_swedish_ci">Latin1 Swedish CI</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3><i class="fas fa-user-shield"></i> Authentication</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="db-username">Username</label>
                                    <input type="text" id="db-username" value="root">
                                </div>
                                <div class="form-group">
                                    <label for="db-password">Password</label>
                                    <input type="password" id="db-password">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="db-auth-method">Authentication Method</label>
                                    <select id="db-auth-method">
                                        <option value="password">Password</option>
                                        <option value="certificate">Client Certificate</option>
                                        <option value="kerberos">Kerberos</option>
                                        <option value="oauth">OAuth 2.0</option>
                                        <option value="iam">AWS IAM</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="db-role">Database Role (optional)</label>
                                    <input type="text" id="db-role" placeholder="admin, readonly, etc.">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn-test" onclick="testConnection()">
                            <i class="fas fa-plug"></i> Test Connection
                        </button>
                        <button class="btn-save" onclick="saveConnection()">
                            <i class="fas fa-save"></i> Save Connection
                        </button>
                        <button class="btn-connect" onclick="connectDatabase()">
                            <i class="fas fa-link"></i> Connect & Explore
                        </button>
                    </div>
                </div>

                <!-- Advanced Options Tab -->
                <div id="advanced-tab" class="tab-pane">
                    <div class="advanced-options-grid">
                        <div class="option-group">
                            <h4><i class="fas fa-cogs"></i> Connection Pooling</h4>
                            <div class="option-controls">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="connection-pooling">
                                    <span class="toggle-slider"></span>
                                </label>
                                <span class="option-label">Enable connection pooling</span>
                            </div>
                            <div class="pool-settings" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="pool-min">Min Connections</label>
                                        <input type="number" id="pool-min" value="5">
                                    </div>
                                    <div class="form-group">
                                        <label for="pool-max">Max Connections</label>
                                        <input type="number" id="pool-max" value="20">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="pool-idle-timeout">Idle Timeout (minutes)</label>
                                        <input type="number" id="pool-idle-timeout" value="10">
                                    </div>
                                    <div class="form-group">
                                        <label for="pool-max-lifetime">Max Lifetime (minutes)</label>
                                        <input type="number" id="pool-max-lifetime" value="60">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="option-group">
                            <h4><i class="fas fa-clock"></i> Timeout Settings</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="connect-timeout">Connection Timeout (seconds)</label>
                                    <input type="number" id="connect-timeout" value="30">
                                </div>
                                <div class="form-group">
                                    <label for="query-timeout">Query Timeout (seconds)</label>
                                    <input type="number" id="query-timeout" value="300">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="socket-timeout">Socket Timeout (seconds)</label>
                                    <input type="number" id="socket-timeout" value="60">
                                </div>
                                <div class="form-group">
                                    <label for="retry-attempts">Retry Attempts</label>
                                    <input type="number" id="retry-attempts" value="3">
                                </div>
                            </div>
                        </div>

                        <div class="option-group">
                            <h4><i class="fas fa-shield-alt"></i> SSL/TLS Configuration</h4>
                            <div class="ssl-options">
                                <div class="option-controls">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="ssl-enabled">
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="option-label">Enable SSL/TLS</span>
                                </div>
                                <div class="ssl-settings" style="display: none;">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="ssl-cert">SSL Certificate Path</label>
                                            <input type="text" id="ssl-cert" placeholder="/path/to/cert.pem">
                                        </div>
                                        <div class="form-group">
                                            <label for="ssl-key">SSL Key Path</label>
                                            <input type="text" id="ssl-key" placeholder="/path/to/key.pem">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="ssl-ca">CA Certificate Path</label>
                                            <input type="text" id="ssl-ca" placeholder="/path/to/ca.pem">
                                        </div>
                                        <div class="form-group">
                                            <label for="ssl-mode">SSL Mode</label>
                                            <select id="ssl-mode">
                                                <option value="require">Require</option>
                                                <option value="verify-ca">Verify CA</option>
                                                <option value="verify-identity">Verify Identity</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="option-group">
                            <h4><i class="fas fa-network-wired"></i> Network Configuration</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="keep-alive">Keep Alive</label>
                                    <select id="keep-alive">
                                        <option value="true">Enabled</option>
                                        <option value="false">Disabled</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="tcp-keep-alive">TCP Keep Alive (seconds)</label>
                                    <input type="number" id="tcp-keep-alive" value="300">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="buffer-size">Buffer Size (KB)</label>
                                    <input type="number" id="buffer-size" value="64">
                                </div>
                                <div class="form-group">
                                    <label for="max-packet-size">Max Packet Size (MB)</label>
                                    <input type="number" id="max-packet-size" value="16">
                                </div>
                            </div>
                        </div>

                        <div class="option-group">
                            <h4><i class="fas fa-code-branch"></i> Replication & Clustering</h4>
                            <div class="option-controls">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="read-replica">
                                    <span class="toggle-slider"></span>
                                </label>
                                <span class="option-label">Use read replica</span>
                            </div>
                            <div class="replica-settings" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="replica-host">Replica Host</label>
                                        <input type="text" id="replica-host" placeholder="replica.example.com">
                                    </div>
                                    <div class="form-group">
                                        <label for="replica-port">Replica Port</label>
                                        <input type="number" id="replica-port" value="3306">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="option-group">
                            <h4><i class="fas fa-compress"></i> Compression & Optimization</h4>
                            <div class="option-controls">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="compression" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span class="option-label">Enable compression</span>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="compression-level">Compression Level</label>
                                    <select id="compression-level">
                                        <option value="1">Fast</option>
                                        <option value="6" selected>Balanced</option>
                                        <option value="9">Best</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="compression-threshold">Threshold (KB)</label>
                                    <input type="number" id="compression-threshold" value="1">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Settings Tab -->
                <div id="security-tab" class="tab-pane">
                    <div class="security-grid">
                        <div class="security-card">
                            <div class="security-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <h4>Encryption</h4>
                            <p>Data encryption in transit and at rest</p>
                            <div class="security-controls">
                                <select id="encryption-level">
                                    <option value="none">No Encryption</option>
                                    <option value="tls">TLS 1.2+</option>
                                    <option value="tls13">TLS 1.3</option>
                                </select>
                            </div>
                        </div>

                        <div class="security-card">
                            <div class="security-icon">
                                <i class="fas fa-key"></i>
                            </div>
                            <h4>Authentication</h4>
                            <p>Advanced authentication methods</p>
                            <div class="security-controls">
                                <select id="auth-method">
                                    <option value="password">Password</option>
                                    <option value="certificate">Client Certificate</option>
                                    <option value="kerberos">Kerberos</option>
                                    <option value="oauth">OAuth 2.0</option>
                                </select>
                            </div>
                        </div>

                        <div class="security-card">
                            <div class="security-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <h4>Access Control</h4>
                            <p>Role-based access and permissions</p>
                            <div class="security-controls">
                                <div class="permission-list">
                                    <label><input type="checkbox" checked> Read Access</label>
                                    <label><input type="checkbox"> Write Access</label>
                                    <label><input type="checkbox"> Admin Access</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Import/Export Tab -->
                <div id="import-tab" class="tab-pane">
                    <div class="import-export-grid">
                        <div class="import-section">
                            <h3><i class="fas fa-file-import"></i> Data Import</h3>
                            <div class="import-options">
                                <div class="option-group">
                                    <h4>Import Sources</h4>
                                    <div class="import-source-grid">
                                        <button class="import-source-btn" data-source="csv">
                                            <i class="fas fa-file-csv"></i>
                                            <span>CSV Files</span>
                                        </button>
                                        <button class="import-source-btn" data-source="excel">
                                            <i class="fas fa-file-excel"></i>
                                            <span>Excel Files</span>
                                        </button>
                                        <button class="import-source-btn" data-source="json">
                                            <i class="fas fa-file-code"></i>
                                            <span>JSON Files</span>
                                        </button>
                                        <button class="import-source-btn" data-source="xml">
                                            <i class="fas fa-file-alt"></i>
                                            <span>XML Files</span>
                                        </button>
                                        <button class="import-source-btn" data-source="sql">
                                            <i class="fas fa-database"></i>
                                            <span>SQL Dump</span>
                                        </button>
                                        <button class="import-source-btn" data-source="api">
                                            <i class="fas fa-plug"></i>
                                            <span>API Endpoint</span>
                                        </button>
                                    </div>
                                </div>

                                <div class="option-group">
                                    <h4>Import Settings</h4>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="import-delimiter">Field Delimiter</label>
                                            <select id="import-delimiter">
                                                <option value=",">Comma (,)</option>
                                                <option value=";">Semicolon (;)</option>
                                                <option value="|">Pipe (|)</option>
                                                <option value="\t">Tab</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="import-encoding">File Encoding</label>
                                            <select id="import-encoding">
                                                <option value="utf8">UTF-8</option>
                                                <option value="latin1">Latin1</option>
                                                <option value="ascii">ASCII</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="option-controls">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="import-headers" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="option-label">First row contains headers</span>
                                    </div>
                                    <div class="option-controls">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="import-validation">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="option-label">Enable data validation</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="export-section">
                            <h3><i class="fas fa-file-export"></i> Data Export</h3>
                            <div class="export-options">
                                <div class="option-group">
                                    <h4>Export Formats</h4>
                                    <div class="export-format-grid">
                                        <button class="export-format-btn" data-format="csv">
                                            <i class="fas fa-file-csv"></i>
                                            <span>CSV</span>
                                        </button>
                                        <button class="export-format-btn" data-format="excel">
                                            <i class="fas fa-file-excel"></i>
                                            <span>Excel</span>
                                        </button>
                                        <button class="export-format-btn" data-format="json">
                                            <i class="fas fa-file-code"></i>
                                            <span>JSON</span>
                                        </button>
                                        <button class="export-format-btn" data-format="xml">
                                            <i class="fas fa-file-alt"></i>
                                            <span>XML</span>
                                        </button>
                                        <button class="export-format-btn" data-format="sql">
                                            <i class="fas fa-database"></i>
                                            <span>SQL</span>
                                        </button>
                                    </div>
                                </div>

                                <div class="option-group">
                                    <h4>Export Options</h4>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="export-table">Select Table</label>
                                            <select id="export-table">
                                                <option value="">All Tables</option>
                                                <!-- Tables will be loaded dynamically -->
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="export-limit">Row Limit</label>
                                            <input type="number" id="export-limit" placeholder="No limit" value="">
                                        </div>
                                    </div>
                                    <div class="option-controls">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="export-structure" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="option-label">Include table structure</span>
                                    </div>
                                    <div class="option-controls">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="export-data" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="option-label">Include data</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="import-export-actions">
                        <button class="btn-import" onclick="startImport()">
                            <i class="fas fa-play"></i> Start Import
                        </button>
                        <button class="btn-export" onclick="startExport()">
                            <i class="fas fa-download"></i> Start Export
                        </button>
                        <button class="btn-schedule" onclick="scheduleTransfer()">
                            <i class="fas fa-clock"></i> Schedule Transfer
                        </button>
                    </div>
                </div>

                <!-- Migration Tab -->
                <div id="migration-tab" class="tab-pane">
                    <div class="migration-grid">
                        <div class="migration-section">
                            <h3><i class="fas fa-exchange-alt"></i> Database Migration</h3>
                            <div class="migration-options">
                                <div class="option-group">
                                    <h4>Source Database</h4>
                                    <div class="migration-db-selector">
                                        <select id="source-db-type" class="db-type-select">
                                            <option value="mysql">MySQL</option>
                                            <option value="postgresql">PostgreSQL</option>
                                            <option value="oracle">Oracle</option>
                                            <option value="mssql">SQL Server</option>
                                            <option value="mongodb">MongoDB</option>
                                        </select>
                                        <div class="migration-connection-form">
                                            <div class="form-row">
                                                <div class="form-group">
                                                    <label for="source-host">Host</label>
                                                    <input type="text" id="source-host" placeholder="source.example.com">
                                                </div>
                                                <div class="form-group">
                                                    <label for="source-port">Port</label>
                                                    <input type="number" id="source-port" value="3306">
                                                </div>
                                            </div>
                                            <div class="form-row">
                                                <div class="form-group">
                                                    <label for="source-db">Database</label>
                                                    <input type="text" id="source-db" placeholder="source_db">
                                                </div>
                                                <div class="form-group">
                                                    <label for="source-user">Username</label>
                                                    <input type="text" id="source-user">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="option-group">
                                    <h4>Target Database</h4>
                                    <div class="migration-db-selector">
                                        <select id="target-db-type" class="db-type-select">
                                            <option value="mysql">MySQL</option>
                                            <option value="postgresql">PostgreSQL</option>
                                            <option value="oracle">Oracle</option>
                                            <option value="mssql">SQL Server</option>
                                            <option value="mongodb">MongoDB</option>
                                        </select>
                                        <div class="migration-connection-form">
                                            <div class="form-row">
                                                <div class="form-group">
                                                    <label for="target-host">Host</label>
                                                    <input type="text" id="target-host" value="127.0.0.1">
                                                </div>
                                                <div class="form-group">
                                                    <label for="target-port">Port</label>
                                                    <input type="number" id="target-port" value="3306">
                                                </div>
                                            </div>
                                            <div class="form-row">
                                                <div class="form-group">
                                                    <label for="target-db">Database</label>
                                                    <input type="text" id="target-db" value="pimcore">
                                                </div>
                                                <div class="form-group">
                                                    <label for="target-user">Username</label>
                                                    <input type="text" id="target-user" value="root">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="option-group">
                                    <h4>Migration Options</h4>
                                    <div class="migration-options-grid">
                                        <div class="option-controls">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="migrate-structure" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="option-label">Migrate table structure</span>
                                        </div>
                                        <div class="option-controls">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="migrate-data" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="option-label">Migrate data</span>
                                        </div>
                                        <div class="option-controls">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="migrate-constraints">
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="option-label">Migrate constraints</span>
                                        </div>
                                        <div class="option-controls">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="migrate-indexes" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="option-label">Migrate indexes</span>
                                        </div>
                                        <div class="option-controls">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="migrate-views">
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="option-label">Migrate views</span>
                                        </div>
                                        <div class="option-controls">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="migrate-triggers">
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="option-label">Migrate triggers</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="migration-preview-section">
                            <h3><i class="fas fa-eye"></i> Migration Preview</h3>
                            <div class="migration-preview">
                                <div class="preview-tables">
                                    <h4>Tables to Migrate</h4>
                                    <div id="migration-table-list" class="table-list">
                                        <!-- Tables will be loaded here -->
                                    </div>
                                </div>
                                <div class="preview-summary">
                                    <h4>Migration Summary</h4>
                                    <div class="summary-stats">
                                        <div class="stat-item">
                                            <span class="stat-label">Tables:</span>
                                            <span class="stat-value" id="table-count">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Rows:</span>
                                            <span class="stat-value" id="row-count">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Size:</span>
                                            <span class="stat-value" id="data-size">0 MB</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="migration-actions">
                        <button class="btn-preview" onclick="previewMigration()">
                            <i class="fas fa-search"></i> Preview Migration
                        </button>
                        <button class="btn-migrate" onclick="startMigration()">
                            <i class="fas fa-play"></i> Start Migration
                        </button>
                        <button class="btn-schedule-migration" onclick="scheduleMigration()">
                            <i class="fas fa-clock"></i> Schedule Migration
                        </button>
                    </div>
                </div>

                <!-- API Integration Tab -->
                <div id="api-tab" class="tab-pane">
                    <div class="api-integration-grid">
                        <div class="api-section">
                            <h3><i class="fas fa-plug"></i> API Integration</h3>
                            <div class="api-options">
                                <div class="option-group">
                                    <h4>Available APIs</h4>
                                    <div class="api-grid">
                                        <button class="api-btn" data-api="rest">
                                            <i class="fas fa-code"></i>
                                            <span>REST API</span>
                                        </button>
                                        <button class="api-btn" data-api="graphql">
                                            <i class="fas fa-project-diagram"></i>
                                            <span>GraphQL</span>
                                        </button>
                                        <button class="api-btn" data-api="webhook">
                                            <i class="fas fa-webhook"></i>
                                            <span>Webhooks</span>
                                        </button>
                                        <button class="api-btn" data-api="soap">
                                            <i class="fas fa-soap"></i>
                                            <span>SOAP</span>
                                        </button>
                                        <button class="api-btn" data-api="odata">
                                            <i class="fas fa-database"></i>
                                            <span>OData</span>
                                        </button>
                                        <button class="api-btn" data-api="custom">
                                            <i class="fas fa-cogs"></i>
                                            <span>Custom API</span>
                                        </button>
                                    </div>
                                </div>

                                <div class="option-group">
                                    <h4>API Configuration</h4>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="api-endpoint">API Endpoint</label>
                                            <input type="url" id="api-endpoint" placeholder="https://api.example.com">
                                        </div>
                                        <div class="form-group">
                                            <label for="api-method">HTTP Method</label>
                                            <select id="api-method">
                                                <option value="GET">GET</option>
                                                <option value="POST">POST</option>
                                                <option value="PUT">PUT</option>
                                                <option value="DELETE">DELETE</option>
                                                <option value="PATCH">PATCH</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="api-auth-type">Authentication</label>
                                            <select id="api-auth-type">
                                                <option value="none">No Auth</option>
                                                <option value="basic">Basic Auth</option>
                                                <option value="bearer">Bearer Token</option>
                                                <option value="apikey">API Key</option>
                                                <option value="oauth2">OAuth 2.0</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="api-format">Data Format</label>
                                            <select id="api-format">
                                                <option value="json">JSON</option>
                                                <option value="xml">XML</option>
                                                <option value="form">Form Data</option>
                                                <option value="csv">CSV</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="option-group">
                                    <h4>API Testing</h4>
                                    <div class="api-test-section">
                                        <div class="form-group">
                                            <label for="api-test-url">Test URL</label>
                                            <input type="url" id="api-test-url" placeholder="https://api.example.com/test">
                                        </div>
                                        <div class="api-test-actions">
                                            <button class="btn-test-api" onclick="testAPIConnection()">
                                                <i class="fas fa-plug"></i> Test Connection
                                            </button>
                                            <button class="btn-send-request" onclick="sendAPIRequest()">
                                                <i class="fas fa-paper-plane"></i> Send Request
                                            </button>
                                        </div>
                                        <div class="api-response" id="api-response">
                                            <!-- API response will be displayed here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="api-documentation-section">
                            <h3><i class="fas fa-book"></i> API Documentation</h3>
                            <div class="api-docs">
                                <div class="api-endpoint">
                                    <h4>Available Endpoints</h4>
                                    <div class="endpoint-list">
                                        <div class="endpoint-item">
                                            <span class="method get">GET</span>
                                            <span class="path">/api/v1/databases</span>
                                            <span class="description">List all databases</span>
                                        </div>
                                        <div class="endpoint-item">
                                            <span class="method post">POST</span>
                                            <span class="path">/api/v1/query</span>
                                            <span class="description">Execute SQL query</span>
                                        </div>
                                        <div class="endpoint-item">
                                            <span class="method get">GET</span>
                                            <span class="path">/api/v1/tables/{table}</span>
                                            <span class="description">Get table schema</span>
                                        </div>
                                        <div class="endpoint-item">
                                            <span class="method post">POST</span>
                                            <span class="path">/api/v1/import</span>
                                            <span class="description">Import data</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="api-actions">
                        <button class="btn-generate-api" onclick="generateAPIKey()">
                            <i class="fas fa-key"></i> Generate API Key
                        </button>
                        <button class="btn-save-api" onclick="saveAPIConfig()">
                            <i class="fas fa-save"></i> Save Configuration
                        </button>
                        <button class="btn-test-integration" onclick="testIntegration()">
                            <i class="fas fa-vial"></i> Test Integration
                        </button>
                    </div>
                </div>
            </div>
        </div>

                </div>
            </div>
        </div>

        <!-- Status and Messages -->
        <div id="status-message" class="status-panel"></div>

        <!-- Saved Connections -->
        <div class="saved-connections-panel">
            <h3><i class="fas fa-bookmark"></i> Saved Connections</h3>
            <div id="saved-connections-list" class="connections-list">
                <!-- Connections will be loaded here -->
            </div>
        </div>
    </div>
</div>

<style>
    :root {
        --pimcore-blue: #2D6DB4;
        --pimcore-light-blue: #4A90E2;
        --pimcore-dark-blue: #1A365D;
        --success-color: #2ecc71;
        --warning-color: #f39c12;
        --danger-color: #e74c3c;
        --light-color: #f8f9fa;
        --dark-color: #2c3e50;
        --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --glass-bg: rgba(255, 255, 255, 0.95);
        --glass-border: rgba(255, 255, 255, 0.2);
    }

    .database-connector-content {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        padding: 20px 0;
    }

    /* Three-Section Layout */
    .top-section {
        margin-bottom: 40px;
        padding: 0 20px;
    }

    .middle-section {
        margin-bottom: 40px;
        padding: 0 20px;
    }

    .bottom-section {
        margin-bottom: 40px;
        padding: 0 20px;
    }

    .import-export-section {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 20px;
    }

    .import-export-section h2 {
        font-size: 24px;
        font-weight: 700;
        color: var(--dark-color);
        margin-bottom: 25px;
        text-align: center;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .database-selection-section {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 20px;
    }

    .database-selection-section h2 {
        font-size: 24px;
        font-weight: 700;
        color: var(--dark-color);
        margin-bottom: 25px;
        text-align: center;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .connection-form-section {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 20px;
    }

    .connection-form-section h2 {
        font-size: 24px;
        font-weight: 700;
        color: var(--dark-color);
        margin-bottom: 25px;
        text-align: center;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .advanced-tools {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 25px;
    }

    .advanced-tool-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px 20px;
        background: linear-gradient(135deg, #9b59b6, #8e44ad);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .advanced-tool-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .advanced-tool-btn i {
        font-size: 16px;
    }

    .database-header {
        text-align: center;
        margin-bottom: 30px;
        padding: 20px;
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .database-header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--dark-color);
        margin-bottom: 10px;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .database-header p {
        font-size: 1.1rem;
        color: #666;
        max-width: 600px;
        margin: 0 auto;
    }

    .database-types-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .db-type-card {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .db-type-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--primary-gradient);
        transform: scaleX(0);
        transition: transform 0.3s ease;
    }

    .db-type-card:hover, .db-type-card.active {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }

    .db-type-card:hover::before, .db-type-card.active::before {
        transform: scaleX(1);
    }

    .db-icon {
        font-size: 48px;
        color: var(--primary-color);
        margin-bottom: 15px;
    }

    .db-type-card h4 {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--dark-color);
    }

    .db-type-card p {
        color: #666;
        margin-bottom: 15px;
    }

    .db-features {
        display: flex;
        gap: 8px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .feature-tag {
        background: var(--primary-gradient);
        color: white;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
    }

    .connection-panel {
        background: var(--glass-bg);
        backdrop-filter: blur(15px);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .panel-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 30px;
        border-bottom: 1px solid #e2e8f0;
        padding-bottom: 20px;
    }

    .tab-btn {
        padding: 12px 24px;
        border: none;
        background: transparent;
        color: #666;
        font-weight: 500;
        cursor: pointer;
        border-radius: 8px;
        transition: all 0.3s ease;
        position: relative;
    }

    .tab-btn.active, .tab-btn:hover {
        background: var(--primary-gradient);
        color: white;
    }

    .tab-pane {
        display: none;
    }

    .tab-pane.active {
        display: block;
    }

    .connection-form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 30px;
        margin-bottom: 30px;
    }

    .form-section {
        background: rgba(255, 255, 255, 0.8);
        border-radius: 12px;
        padding: 25px;
        border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .form-section h3 {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--dark-color);
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
    }

    .form-group {
        display: flex;
        flex-direction: column;
    }

    .form-group label {
        font-weight: 600;
        color: var(--dark-color);
        margin-bottom: 8px;
        font-size: 14px;
    }

    .form-group input, .form-group select {
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.9);
    }

    .form-group input:focus, .form-group select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(74, 110, 224, 0.1);
        outline: none;
    }

    .form-actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 30px;
    }

    .btn-test, .btn-save, .btn-connect {
        padding: 14px 28px;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 160px;
        justify-content: center;
    }

    .btn-test {
        background: linear-gradient(135deg, #f39c12, #e67e22);
        color: white;
    }

    .btn-save {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
    }

    .btn-connect {
        background: var(--primary-gradient);
        color: white;
    }

    .btn-test:hover, .btn-save:hover, .btn-connect:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .advanced-options-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 25px;
    }

    .option-group {
        background: rgba(255, 255, 255, 0.8);
        border-radius: 12px;
        padding: 25px;
        border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .option-group h4 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 15px;
        color: var(--dark-color);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .option-controls {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 15px;
    }

    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
    }

    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: 0.4s;
        border-radius: 24px;
    }

    .toggle-slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
    }

    input:checked + .toggle-slider {
        background-color: var(--primary-color);
    }

    input:checked + .toggle-slider:before {
        transform: translateX(26px);
    }

    .security-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
    }

    .security-card {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 12px;
        padding: 25px;
        text-align: center;
        border: 1px solid rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
    }

    .security-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .security-icon {
        font-size: 36px;
        color: var(--primary-color);
        margin-bottom: 15px;
    }

    .security-card h4 {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--dark-color);
    }

    .security-card p {
        color: #666;
        margin-bottom: 20px;
    }

    .monitoring-dashboard {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 12px;
        padding: 25px;
        border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .monitoring-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .metric-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 10px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        border: 1px solid rgba(0, 0, 0, 0.05);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .metric-icon {
        font-size: 24px;
        color: var(--primary-color);
    }

    .metric-info h4 {
        font-size: 14px;
        font-weight: 600;
        color: var(--dark-color);
        margin-bottom: 5px;
    }

    .status-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #ccc;
    }

    .status-text {
        font-size: 12px;
        color: #666;
    }

    .metric-value {
        font-size: 24px;
        font-weight: 700;
        color: var(--primary-color);
    }

    .monitoring-actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .btn-monitor, .btn-logs, .btn-alerts {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .btn-monitor {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
    }

    .btn-logs {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
    }

    .btn-alerts {
        background: linear-gradient(135deg, #f39c12, #e67e22);
        color: white;
    }

    .saved-connections-panel {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 15px;
        padding: 25px;
        margin-top: 30px;
    }

    .saved-connections-panel h3 {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--dark-color);
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .connections-list {
        display: grid;
        gap: 15px;
    }

    .status-panel {
        margin: 20px 0;
        padding: 15px;
        border-radius: 8px;
        display: none;
        font-weight: 500;
    }

    .status-panel.success {
        background: linear-gradient(135deg, #d5f5e3, #c3e6cb);
        color: #155724;
        border: 1px solid #c3e6cb;
        display: block;
    }

    .status-panel.error {
        background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        color: #721c24;
        border: 1px solid #f5c6cb;
        display: block;
    }

    @media (max-width: 768px) {
        .database-types-grid {
            grid-template-columns: 1fr;
        }

        .connection-form-grid {
            grid-template-columns: 1fr;
        }

        .form-row {
            grid-template-columns: 1fr;
        }

        .panel-tabs {
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            min-width: 120px;
        }

        .form-actions {
            flex-direction: column;
            align-items: stretch;
        }

        .btn-test, .btn-save, .btn-connect {
            width: 100%;
        }

        /* Three-Section Layout Responsive */
        .top-section,
        .middle-section,
        .bottom-section {
            padding: 0 10px;
            margin-bottom: 30px;
        }

        .import-export-section,
        .database-selection-section,
        .connection-form-section {
            padding: 20px;
        }

        .import-export-section h2,
        .database-selection-section h2,
        .connection-form-section h2 {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .advanced-tools {
            flex-direction: column;
            gap: 10px;
        }

        .advanced-tool-btn {
            width: 100%;
            justify-content: center;
            padding: 14px 20px;
        }

        .import-export-grid {
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .import-section, .export-section {
            padding: 20px;
        }
    }

    @media (max-width: 480px) {
        .database-connector-content {
            padding: 10px 0;
        }

        .top-section,
        .middle-section,
        .bottom-section {
            padding: 0 5px;
            margin-bottom: 20px;
        }

        .import-export-section,
        .database-selection-section,
        .connection-form-section {
            padding: 15px;
            border-radius: 10px;
        }

        .import-export-section h2,
        .database-selection-section h2,
        .connection-form-section h2 {
            font-size: 18px;
            margin-bottom: 15px;
        }

        .import-source-grid,
        .export-format-grid {
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .import-source-btn,
        .export-format-btn {
            padding: 15px 10px;
            font-size: 13px;
        }

        .advanced-tools {
            gap: 8px;
        }

        .advanced-tool-btn {
            padding: 12px 16px;
            font-size: 13px;
        }
    }
</style>

<script>
$(document).ready(function() {
    // Database type selection
    $('.db-type-card').click(function() {
        $('.db-type-card').removeClass('active');
        $(this).addClass('active');

        const dbType = $(this).data('db');
        updateFormForDatabase(dbType);
    });

    // Tab switching
    $('.tab-btn').click(function() {
        const tabId = $(this).data('tab');
        $('.tab-btn').removeClass('active');
        $(this).addClass('active');

        $('.tab-pane').removeClass('active');
        $('#' + tabId + '-tab').addClass('active');
    });

    // Toggle switches
    $('#connection-pooling').change(function() {
        if ($(this).is(':checked')) {
            $('.pool-settings').show();
        } else {
            $('.pool-settings').hide();
        }
    });

    $('#ssl-enabled').change(function() {
        if ($(this).is(':checked')) {
            $('.ssl-settings').show();
        } else {
            $('.ssl-settings').hide();
        }
    });

    function updateFormForDatabase(dbType) {
        const ports = {
            mysql: 3306,
            postgresql: 5432,
            mongodb: 27017,
            redis: 6379,
            oracle: 1521,
            mssql: 1433
        };

        $('#db-port').val(ports[dbType] || 3306);
        $('#db-name').attr('placeholder', dbType === 'mongodb' ? 'database name' : 'database name');
        $('#db-schema').attr('placeholder', dbType === 'postgresql' ? 'public' : 'default schema');
    }
});

function testConnection() {
    const connectionData = {
        type: $('.db-type-card.active').data('db'),
        host: $('#db-host').val(),
        port: $('#db-port').val(),
        database: $('#db-name').val(),
        username: $('#db-username').val(),
        password: $('#db-password').val()
    };

    // Show loading state
    $('#status-message').removeClass('success error').addClass('info').html('Testing connection...').show();

    // Simulate connection test
    setTimeout(() => {
        $('#status-message').removeClass('info').addClass('success').html(' Connection successful!');
    }, 2000);
}

function saveConnection() {
    const connectionData = {
        type: $('.db-type-card.active').data('db'),
        host: $('#db-host').val(),
        port: $('#db-port').val(),
        database: $('#db-name').val(),
        username: $('#db-username').val(),
        password: $('#db-password').val(),
        name: $('.db-type-card.active h4').text() + ' Connection'
    };

    // Save to localStorage (in real app, this would be saved to server)
    const savedConnections = JSON.parse(localStorage.getItem('dbConnections') || '[]');
    savedConnections.push(connectionData);
    localStorage.setItem('dbConnections', JSON.stringify(savedConnections));

    $('#status-message').removeClass('error').addClass('success').html(' Connection saved successfully!').show();
    loadSavedConnections();
}

function connectDatabase() {
    $('#status-message').removeClass('error').addClass('info').html('Connecting to database...').show();

    setTimeout(() => {
        $('#status-message').removeClass('info').addClass('success').html(' Connected successfully! Redirecting to database explorer...');
    }, 2000);
}

function startMonitoring() {
    $('#connection-status .status-dot').css('background', '#2ecc71');
    $('#connection-status .status-text').text('Connected');
    $('#active-connections').text('1');
    $('#response-time').text('45 ms');
    $('#status-message').addClass('success').html(' Monitoring started successfully!').show();
}

function viewLogs() {
    $('#status-message').addClass('info').html('Opening logs viewer...').show();
}

function configureAlerts() {
    $('#status-message').addClass('info').html('Opening alert configuration...').show();
}

function loadSavedConnections() {
    const savedConnections = JSON.parse(localStorage.getItem('dbConnections') || '[]');
    const connectionsList = $('#saved-connections-list');

    if (savedConnections.length === 0) {
        connectionsList.html('<p style="text-align: center; color: #666; padding: 20px;">No saved connections yet.</p>');
        return;
    }

    let html = '';
    savedConnections.forEach((conn, index) => {
        html += `
            <div class="connection-item">
                <div class="connection-info">
                    <strong>${conn.name}</strong>
                    <div style="color: #666; font-size: 12px;">${conn.host}:${conn.port}/${conn.database}</div>
                </div>
                <div class="connection-actions">
                    <button class="btn-connect-small" onclick="connectToSaved(${index})">Connect</button>
                    <button class="btn-delete-small" onclick="deleteConnection(${index})">Delete</button>
                </div>
            </div>
        `;
    });

    connectionsList.html(html);
}

function connectToSaved(index) {
    const savedConnections = JSON.parse(localStorage.getItem('dbConnections') || '[]');
    const connection = savedConnections[index];

    // Populate form with saved connection data
    $('#db-host').val(connection.host);
    $('#db-port').val(connection.port);
    $('#db-name').val(connection.database);
    $('#db-username').val(connection.username);
    $('#db-password').val(connection.password);

    // Select the correct database type
    $('.db-type-card').removeClass('active');
    $(`.db-type-card[data-db="${connection.type}"]`).addClass('active');

    $('#status-message').addClass('success').html(' Connection details loaded!').show();
}

function deleteConnection(index) {
    const savedConnections = JSON.parse(localStorage.getItem('dbConnections') || '[]');
    savedConnections.splice(index, 1);
    localStorage.setItem('dbConnections', JSON.stringify(savedConnections));
    loadSavedConnections();
    $('#status-message').addClass('success').html(' Connection deleted!').show();
}

// Load saved connections on page load
$(document).ready(function() {
    loadSavedConnections();
});
</script>
{% endblock %}