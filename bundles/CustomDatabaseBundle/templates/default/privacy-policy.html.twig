{% extends '@CustomDatabase/sidebar/sidebar.html.twig' %}

{% block head_stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/customdatabase/static/database/style.css') }}" crossorigin="anonymous" />
{% endblock %}

{% block headscripts %}
    {{ parent() }}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ asset('bundles/customdatabase/static/privacy-policy/script.js') }}"></script>
{% endblock %}

{% block content %}
<div class="main-content">
    <div class="privacy-policy-content">
        <div class="database-header">
            <div class="header-actions">
                <a href="{{ path('home') }}" class="btn-back">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </a>
                <button class="btn-download-policy" onclick="downloadPrivacyPolicy()">
                    <i class="fas fa-download"></i> Download PDF
                </button>
                <button class="btn-print-policy" onclick="printPrivacyPolicy()">
                    <i class="fas fa-print"></i> Print Policy
                </button>
            </div>
            <h1><i class="fas fa-shield-alt"></i> Privacy Policy</h1>
            <p>Comprehensive privacy policy and data protection information for our database management platform</p>
        </div>

        <!-- Policy Overview Section -->
        <div class="policy-overview-section">
            <div class="policy-header">
                <div class="policy-meta">
                    <div class="meta-item">
                        <span class="meta-label">Last Updated:</span>
                        <span class="meta-value">January 15, 2024</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Version:</span>
                        <span class="meta-value">2.1.0</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Effective Date:</span>
                        <span class="meta-value">February 1, 2024</span>
                    </div>
                </div>
                <div class="policy-summary">
                    <h3>Policy Summary</h3>
                    <p>This privacy policy explains how we collect, use, disclose, and safeguard your information when you use our database management platform. We are committed to protecting your privacy and ensuring compliance with applicable data protection laws.</p>
                </div>
            </div>
        </div>

        <!-- Policy Navigation -->
        <div class="policy-navigation">
            <div class="policy-tabs">
                <button class="policy-tab active" onclick="switchPolicySection('information-collection')">
                    <i class="fas fa-database"></i> Information Collection
                </button>
                <button class="policy-tab" onclick="switchPolicySection('information-usage')">
                    <i class="fas fa-cogs"></i> Information Usage
                </button>
                <button class="policy-tab" onclick="switchPolicySection('data-sharing')">
                    <i class="fas fa-share-alt"></i> Data Sharing
                </button>
                <button class="policy-tab" onclick="switchPolicySection('data-security')">
                    <i class="fas fa-lock"></i> Data Security
                </button>
                <button class="policy-tab" onclick="switchPolicySection('user-rights')">
                    <i class="fas fa-user-shield"></i> User Rights
                </button>
                <button class="policy-tab" onclick="switchPolicySection('compliance')">
                    <i class="fas fa-gavel"></i> Compliance
                </button>
                <button class="policy-tab" onclick="switchPolicySection('contact')">
                    <i class="fas fa-envelope"></i> Contact Information
                </button>
            </div>
        </div>

        <!-- Policy Content -->
        <div class="policy-content">
            <!-- Information Collection -->
            <div id="information-collection-section" class="policy-section active">
                <h2><i class="fas fa-database"></i> Information We Collect</h2>

                <div class="policy-subsection">
                    <h3>Personal Information</h3>
                    <p>We collect personal information that you provide directly to us, including:</p>
                    <ul class="policy-list">
                        <li><strong>Name and Contact Information:</strong> Full name, email address, phone number, and mailing address</li>
                        <li><strong>Account Credentials:</strong> Username, password, and security questions</li>
                        <li><strong>Professional Information:</strong> Job title, department, organization, and role</li>
                        <li><strong>Profile Information:</strong> Profile picture, bio, and preferences</li>
                        <li><strong>Communication Data:</strong> Messages, feedback, and support tickets</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Usage Data</h3>
                    <p>We automatically collect certain information when you use our platform:</p>
                    <ul class="policy-list">
                        <li><strong>Log Data:</strong> IP address, browser type, operating system, and access times</li>
                        <li><strong>Usage Analytics:</strong> Pages visited, features used, and time spent on platform</li>
                        <li><strong>Device Information:</strong> Device type, screen resolution, and unique device identifiers</li>
                        <li><strong>Cookies and Tracking:</strong> Session data and user preferences</li>
                        <li><strong>Performance Metrics:</strong> System performance, error logs, and crash reports</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Database Content</h3>
                    <p>When you use our database management features:</p>
                    <ul class="policy-list">
                        <li><strong>Database Schemas:</strong> Table structures, column definitions, and relationships</li>
                        <li><strong>Query Data:</strong> SQL queries, search terms, and filter criteria</li>
                        <li><strong>Import/Export Data:</strong> File metadata and transfer logs</li>
                        <li><strong>Backup Information:</strong> Backup schedules, retention policies, and metadata</li>
                        <li><strong>Access Logs:</strong> Who accessed what data and when</li>
                    </ul>
                </div>
            </div>

            <!-- Information Usage -->
            <div id="information-usage-section" class="policy-section">
                <h2><i class="fas fa-cogs"></i> How We Use Your Information</h2>

                <div class="policy-subsection">
                    <h3>Service Provision</h3>
                    <ul class="policy-list">
                        <li>To provide, maintain, and improve our database management platform</li>
                        <li>To process and manage your account and user profile</li>
                        <li>To authenticate users and authorize access to features</li>
                        <li>To provide customer support and technical assistance</li>
                        <li>To process transactions and manage billing</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Communication</h3>
                    <ul class="policy-list">
                        <li>To send important service updates and notifications</li>
                        <li>To respond to your inquiries and support requests</li>
                        <li>To send marketing communications (with your consent)</li>
                        <li>To provide educational content and best practices</li>
                        <li>To send security alerts and system notifications</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Analytics and Improvement</h3>
                    <ul class="policy-list">
                        <li>To analyze usage patterns and improve user experience</li>
                        <li>To develop new features and optimize performance</li>
                        <li>To conduct research and generate insights</li>
                        <li>To monitor system health and troubleshoot issues</li>
                        <li>To create anonymized analytics and reports</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Legal and Security</h3>
                    <ul class="policy-list">
                        <li>To comply with legal obligations and regulatory requirements</li>
                        <li>To protect against fraud, abuse, and security threats</li>
                        <li>To enforce our terms of service and acceptable use policies</li>
                        <li>To investigate security incidents and data breaches</li>
                        <li>To maintain audit trails and compliance records</li>
                    </ul>
                </div>
            </div>

            <!-- Data Sharing -->
            <div id="data-sharing-section" class="policy-section">
                <h2><i class="fas fa-share-alt"></i> Information Sharing and Disclosure</h2>

                <div class="policy-subsection">
                    <h3>Third-Party Service Providers</h3>
                    <p>We may share your information with trusted third-party service providers who assist us in operating our platform:</p>
                    <ul class="policy-list">
                        <li><strong>Cloud Infrastructure:</strong> AWS, Google Cloud, or Microsoft Azure for hosting and storage</li>
                        <li><strong>Analytics Services:</strong> Google Analytics, Mixpanel for usage analytics</li>
                        <li><strong>Customer Support:</strong> Zendesk, Intercom for support ticketing</li>
                        <li><strong>Email Services:</strong> SendGrid, Mailgun for email communications</li>
                        <li><strong>Security Services:</strong> Cloudflare, Akamai for security and CDN</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Legal Requirements</h3>
                    <p>We may disclose your information when required by law or to protect our rights:</p>
                    <ul class="policy-list">
                        <li>To comply with subpoenas, court orders, or legal processes</li>
                        <li>To respond to government requests or regulatory inquiries</li>
                        <li>To protect against imminent harm to persons or property</li>
                        <li>To investigate fraud, security breaches, or violations of our policies</li>
                        <li>To enforce our terms of service and protect our intellectual property</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Business Transfers</h3>
                    <p>In the event of a merger, acquisition, or sale of assets:</p>
                    <ul class="policy-list">
                        <li>Your information may be transferred to the acquiring entity</li>
                        <li>We will notify you before your information is transferred</li>
                        <li>The acquiring entity will be bound by this privacy policy</li>
                        <li>You may have the right to opt-out of such transfers</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Aggregated and Anonymized Data</h3>
                    <p>We may share aggregated and anonymized data that cannot identify you:</p>
                    <ul class="policy-list">
                        <li>Usage statistics and performance metrics</li>
                        <li>Industry benchmarks and research data</li>
                        <li>Marketing and promotional materials</li>
                        <li>Academic research and publications</li>
                    </ul>
                </div>
            </div>

            <!-- Data Security -->
            <div id="data-security-section" class="policy-section">
                <h2><i class="fas fa-lock"></i> Data Security Measures</h2>

                <div class="policy-subsection">
                    <h3>Technical Safeguards</h3>
                    <ul class="policy-list">
                        <li><strong>Encryption:</strong> All data is encrypted in transit and at rest using AES-256</li>
                        <li><strong>Access Controls:</strong> Role-based access control (RBAC) and multi-factor authentication</li>
                        <li><strong>Network Security:</strong> Firewalls, intrusion detection, and DDoS protection</li>
                        <li><strong>Data Backup:</strong> Regular automated backups with encryption</li>
                        <li><strong>Monitoring:</strong> 24/7 security monitoring and threat detection</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Physical Security</h3>
                    <ul class="policy-list">
                        <li>Secure data center facilities with 24/7 physical security</li>
                        <li>Biometric access controls and surveillance systems</li>
                        <li>Redundant power and cooling systems</li>
                        <li>Environmental monitoring and fire suppression</li>
                        <li>Regular security audits and penetration testing</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Incident Response</h3>
                    <ul class="policy-list">
                        <li>Dedicated incident response team available 24/7</li>
                        <li>Automated alerts for security events and anomalies</li>
                        <li>Defined procedures for breach notification and response</li>
                        <li>Regular incident response drills and training</li>
                        <li>Post-incident analysis and improvement recommendations</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Data Retention</h3>
                    <ul class="policy-list">
                        <li>Personal data retained only as long as necessary for service provision</li>
                        <li>Automatic deletion of inactive accounts after 2 years</li>
                        <li>Backup data retained according to regulatory requirements</li>
                        <li>Audit logs maintained for 7 years for compliance</li>
                        <li>Secure deletion methods for all data removal</li>
                    </ul>
                </div>
            </div>

            <!-- User Rights -->
            <div id="user-rights-section" class="policy-section">
                <h2><i class="fas fa-user-shield"></i> Your Rights and Choices</h2>

                <div class="policy-subsection">
                    <h3>Access and Portability</h3>
                    <ul class="policy-list">
                        <li><strong>Access:</strong> Request a copy of your personal data we hold</li>
                        <li><strong>Portability:</strong> Receive your data in a structured, machine-readable format</li>
                        <li><strong>Rectification:</strong> Correct inaccurate or incomplete personal data</li>
                        <li><strong>Erasure:</strong> Request deletion of your personal data ("right to be forgotten")</li>
                        <li><strong>Restriction:</strong> Limit how we process your personal data</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Communication Preferences</h3>
                    <ul class="policy-list">
                        <li>Opt-out of marketing communications at any time</li>
                        <li>Choose notification preferences in your account settings</li>
                        <li>Control cookie preferences through browser settings</li>
                        <li>Manage data sharing preferences for third parties</li>
                        <li>Request removal from our mailing lists</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>How to Exercise Your Rights</h3>
                    <div class="rights-contact">
                        <p>To exercise any of these rights, please contact us:</p>
                        <div class="contact-methods">
                            <div class="contact-method">
                                <i class="fas fa-envelope"></i>
                                <span>privacy@company.com</span>
                            </div>
                            <div class="contact-method">
                                <i class="fas fa-phone"></i>
                                <span>1-800-PRIVACY</span>
                            </div>
                            <div class="contact-method">
                                <i class="fas fa-globe"></i>
                                <span>privacy.company.com</span>
                            </div>
                        </div>
                        <p><strong>Response Time:</strong> We will respond to your request within 30 days.</p>
                    </div>
                </div>

                <div class="policy-subsection">
                    <h3>Complaints and Appeals</h3>
                    <ul class="policy-list">
                        <li>Contact our Data Protection Officer for complaints</li>
                        <li>Escalate unresolved issues to supervisory authorities</li>
                        <li>Free of charge complaint resolution process</li>
                        <li>Independent review of decisions upon request</li>
                        <li>Right to judicial remedy if rights are violated</li>
                    </ul>
                </div>
            </div>

            <!-- Compliance -->
            <div id="compliance-section" class="policy-section">
                <h2><i class="fas fa-gavel"></i> Legal Compliance</h2>

                <div class="policy-subsection">
                    <h3>GDPR Compliance (EU)</h3>
                    <ul class="policy-list">
                        <li>Lawful basis for processing personal data</li>
                        <li>Data minimization and purpose limitation</li>
                        <li>Storage limitation and data accuracy</li>
                        <li>Integrity, confidentiality, and accountability</li>
                        <li>Data Protection Impact Assessments (DPIA)</li>
                        <li>Data Protection Officers and representatives</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>CCPA Compliance (California)</h3>
                    <ul class="policy-list">
                        <li>Right to know about personal information collection</li>
                        <li>Right to delete personal information</li>
                        <li>Right to opt-out of sale of personal information</li>
                        <li>Right to non-discrimination for exercising rights</li>
                        <li>Privacy notices for California residents</li>
                        <li>Data broker registration and compliance</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>Industry Standards</h3>
                    <ul class="policy-list">
                        <li>SOC 2 Type II compliance for security controls</li>
                        <li>ISO 27001 information security management</li>
                        <li>HIPAA compliance for healthcare data</li>
                        <li>PCI DSS compliance for payment data</li>
                        <li>Regular third-party audits and certifications</li>
                        <li>Industry-specific regulatory compliance</li>
                    </ul>
                </div>

                <div class="policy-subsection">
                    <h3>International Data Transfers</h3>
                    <ul class="policy-list">
                        <li>Adequacy decisions for safe countries</li>
                        <li>Standard Contractual Clauses (SCCs)</li>
                        <li>Binding Corporate Rules (BCRs)</li>
                        <li>Privacy Shield certification (where applicable)</li>
                        <li>Cross-border transfer impact assessments</li>
                        <li>Local data residency options</li>
                    </ul>
                </div>
            </div>

            <!-- Contact Information -->
            <div id="contact-section" class="policy-section">
                <h2><i class="fas fa-envelope"></i> Contact Information</h2>

                <div class="policy-subsection">
                    <h3>Data Protection Officer</h3>
                    <div class="contact-info">
                        <p><strong>Name:</strong> Sarah Johnson</p>
                        <p><strong>Title:</strong> Chief Privacy Officer</p>
                        <p><strong>Email:</strong> dpo@company.com</p>
                        <p><strong>Phone:</strong> +1 (555) 123-4567</p>
                    </div>
                </div>

                <div class="policy-subsection">
                    <h3>Privacy Team</h3>
                    <div class="contact-info">
                        <p><strong>Email:</strong> privacy@company.com</p>
                        <p><strong>Phone:</strong> 1-800-PRIVACY (1-800-774-8229)</p>
                        <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM EST</p>
                        <p><strong>Response Time:</strong> Within 24 hours for urgent privacy concerns</p>
                    </div>
                </div>

                <div class="policy-subsection">
                    <h3>Mailing Address</h3>
                    <div class="contact-info">
                        <p>Custom Database Manager Inc.</p>
                        <p>Attn: Privacy Department</p>
                        <p>123 Privacy Street, Suite 456</p>
                        <p>San Francisco, CA 94105</p>
                        <p>United States</p>
                    </div>
                </div>

                <div class="policy-subsection">
                    <h3>Emergency Contact</h3>
                    <div class="contact-info">
                        <p>For security incidents or data breaches:</p>
                        <p><strong>Emergency Hotline:</strong> +1 (555) 911-HELP</p>
                        <p><strong>Email:</strong> security@company.com</p>
                        <p><strong>Available:</strong> 24/7/365</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Policy Actions -->
        <div class="policy-actions">
            <div class="action-buttons">
                <button class="btn-accept-policy" onclick="acceptPrivacyPolicy()">
                    <i class="fas fa-check"></i> I Accept This Policy
                </button>
                <button class="btn-decline-policy" onclick="declinePrivacyPolicy()">
                    <i class="fas fa-times"></i> I Do Not Accept
                </button>
            </div>
            <div class="policy-consent">
                <p>By continuing to use our services, you acknowledge that you have read and understood this privacy policy.</p>
                <div class="consent-checkbox">
                    <input type="checkbox" id="policy-consent" onchange="togglePolicyAcceptance()">
                    <label for="policy-consent">I have read and agree to the privacy policy</label>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Privacy Policy Styles */
.policy-overview-section {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 20px;
}

.policy-header {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 30px;
}

.policy-meta {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.meta-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #e2e8f0;
}

.meta-item:last-child {
    border-bottom: none;
}

.meta-label {
    font-weight: 600;
    color: var(--dark-color);
}

.meta-value {
    color: var(--primary-color);
    font-weight: 500;
}

.policy-summary {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 10px;
    padding: 20px;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.policy-summary h3 {
    margin: 0 0 15px 0;
    color: var(--dark-color);
    font-size: 18px;
}

.policy-summary p {
    margin: 0;
    color: #666;
    line-height: 1.6;
}

.policy-navigation {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
}

.policy-tabs {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.policy-tab {
    padding: 12px 20px;
    border: 2px solid #e2e8f0;
    background: white;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.policy-tab:hover {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.policy-tab.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.policy-content {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 20px;
}

.policy-section {
    display: none;
}

.policy-section.active {
    display: block;
}

.policy-section h2 {
    font-size: 24px;
    font-weight: 700;
    color: var(--dark-color);
    margin-bottom: 30px;
    text-align: center;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.policy-subsection {
    margin-bottom: 30px;
}

.policy-subsection h3 {
    font-size: 18px;
    font-weight: 600;
    color: var(--dark-color);
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--primary-color);
}

.policy-subsection p {
    color: #666;
    line-height: 1.6;
    margin-bottom: 15px;
}

.policy-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.policy-list li {
    padding: 10px 0;
    border-bottom: 1px solid #e2e8f0;
    color: #666;
    line-height: 1.6;
}

.policy-list li:last-child {
    border-bottom: none;
}

.policy-list li strong {
    color: var(--dark-color);
    font-weight: 600;
}

.contact-methods {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 15px 0;
}

.contact-method {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 8px;
}

.contact-method i {
    color: var(--primary-color);
}

.contact-method span {
    font-weight: 500;
    color: var(--dark-color);
}

.policy-actions {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 20px;
}

.action-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.btn-accept-policy,
.btn-decline-policy {
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.btn-accept-policy {
    background: var(--primary-gradient);
    color: white;
}

.btn-decline-policy {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
}

.policy-consent {
    text-align: center;
}

.policy-consent p {
    color: #666;
    margin-bottom: 15px;
    font-size: 14px;
}

.consent-checkbox {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.consent-checkbox input[type="checkbox"] {
    width: 18px;
    height: 18px;
}

.consent-checkbox label {
    font-weight: 500;
    color: var(--dark-color);
    cursor: pointer;
}

/* Responsive Design */
@media (max-width: 768px) {
    .policy-overview-section,
    .policy-navigation,
    .policy-content,
    .policy-actions {
        padding: 20px;
    }

    .policy-header {
        grid-template-columns: 1fr;
        gap: 20px;
    }

    .policy-tabs {
        justify-content: center;
    }

    .policy-tab {
        padding: 10px 15px;
        font-size: 12px;
    }

    .action-buttons {
        flex-direction: column;
        align-items: center;
    }

    .btn-accept-policy,
    .btn-decline-policy {
        width: 100%;
        max-width: 250px;
    }

    .contact-methods {
        grid-template-columns: 1fr;
    }

    .meta-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
}
</style>

{% endblock %}